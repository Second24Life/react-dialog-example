{"version":3,"sources":["icons/index.js","components/Icon/index.js","components/Dialog/Item/index.js","components/Dialog/Title/index.js","components/Dialog/reducer.js","data.js","components/Dialog/index.js","components/Dialog/helpers.js","components/Sender/index.js","components/Header/UserInfo/index.js","context.js","components/Header/Theme/index.js","components/Header/index.js","App.js","helpers/theme.js","index.js"],"names":["MessageReaded","MessageSended","Icon","size","name","className","Array","width","height","icons","icon","viewBox","classNames","dangerouslySetInnerHTML","__html","Item","isReverse","isRemovable","messages","avatar","onRemove","onRemoveHandle","event","id","currentTarget","dataset","reverse","removable","src","alt","map","item","text","dayjs","date","format","status","onClick","extend","Calendar","Title","calendar","sameDay","lastWeek","sameElse","reducer","state","action","type","filter","message","payload","concat","Error","dialog","is","Dialog","newMessage","dialogRef","useRef","useReducer","data","dispatch","useEffect","setTimeout","current","scrollTop","scrollHeight","length","normalizedDialog","newDialog","forEach","i","diff","push","position","normalizeDialog","ref","key","Sender","onAddMessage","useState","value","setValue","onSubmit","preventDefault","Date","now","toISOString","placeholder","onChange","target","required","UserInfo","AppContext","createContext","Theme","useContext","theme","toggleTheme","Header","App","addMessage","localStorage","getItem","setItem","document","body","classList","add","remove","setTheme","Provider","WebFontLoader","load","google","families","locale","ReactDOM","render","StrictMode","getElementById"],"mappings":"6fAAaA,EAAgB,CAAC,2RAI5B,iBAGWC,EAAgB,CAAC,mJAI5B,iB,OCeaC,EArBF,SAAC,GAAyC,IAAD,IAAtCC,YAAsC,MAA/B,GAA+B,EAA3BC,EAA2B,EAA3BA,KAA2B,IAArBC,iBAAqB,MAAT,GAAS,EACpD,EAAwBF,aAAgBG,MAAQH,EAAO,CAACA,EAAMA,GAA9D,mBAAOI,EAAP,KAAcC,EAAd,KACA,cAAwBC,EAAML,GAA9B,GAAOM,EAAP,KAAaC,EAAb,KAEA,OACE,qBACEN,UAAWO,IAAW,OAAQP,GAC9BE,MAAOA,EACPC,OAAQA,EACRK,wBAAyB,CAAEC,OAAQJ,GACnCC,QAASA,KCkDAI,G,MAxDF,SAAC,GAA4D,IAA1DC,EAAyD,EAAzDA,UAAWC,EAA8C,EAA9CA,YAAaC,EAAiC,EAAjCA,SAAUC,EAAuB,EAAvBA,OAAQC,EAAe,EAAfA,SAClDC,EAAiB,SAACC,GACtB,IAAQC,EAAOD,EAAME,cAAcC,QAA3BF,GACRH,GAAUG,IAGZ,OACE,sBACE,cAAY,eACZlB,UAAWO,IAAW,OAAQ,CAC5Bc,QAASV,EACTW,UAAWV,IAJf,UAOE,qBAAKW,IAAKT,EAAQd,UAAU,SAASwB,IAAI,WACzC,qBAAKxB,UAAU,OAAf,SACGa,EAASY,KAAI,SAACC,GAAD,OACZ,sBAAK1B,UAAU,YAAY,cAAY,oBAAvC,UACE,qBAAKA,UAAU,OAAf,SAAuB0B,EAAKC,OAC5B,qBAAK3B,UAAU,OAAf,SAAuB4B,IAAMF,EAAKG,MAAMC,OAAO,WAC/C,cAAC,EAAD,CACEhC,KAAM,GACNE,UAAU,iBACVD,KACkB,WAAhB2B,EAAKK,OAAsB,gBAAkB,kBAGjD,cAAC,IAAD,CACE,UAASL,EAAKR,GACdpB,KAAM,GACNE,UAAU,iBACV,cAAY,iBACZgC,QAAShB,MAfmDU,EAAKR,c,uBCpB/EU,IAAMK,OAAOC,KAEb,IAceC,EAdD,SAAC,GAAD,IAAGN,EAAH,EAAGA,KAAH,OACZ,qBAAK7B,UAAU,QAAf,SACG4B,IAAMC,GAAMO,SAAS,KAAM,CAC1BC,QAAS,+CACTC,SAAU,UACVC,SAAU,oBCbD,SAASC,EAAQC,EAAOC,GACrC,OAAQA,EAAOC,MACb,IAAK,iBACH,OAAO,2BACFF,GADL,IAEE5B,SAAU4B,EAAM5B,SAAS+B,QACvB,SAACC,GAAD,OAAaA,EAAQ3B,KAAOwB,EAAOI,aAIzC,IAAK,cACH,OAAO,2BACFL,GADL,IAEE5B,SAAU4B,EAAM5B,SAASkC,OAAOL,EAAOI,WAG3C,IAAK,gBACH,OAAO,2BACFL,GADL,IAEE5B,SAAU4B,EAAM5B,SAASY,KAAI,SAACoB,GAC5B,OAAIA,EAAQ3B,KAAOwB,EAAOI,QAAQ5B,GACzB,2BACF2B,GADL,IAEEd,OAAQW,EAAOI,QAAQf,SAIpBc,OAIb,QACE,MAAM,IAAIG,MAAM,wBChCtB,IAsDeC,EAtDA,CACb,CACEnC,OACE,sEACF+B,QAAS,uCACT3B,GAAI,EACJW,KAAM,2BACNqB,GAAI,OAEN,CACEpC,OACE,sEACF+B,QAAS,qFACT3B,GAAI,EACJW,KAAM,2BACNE,OAAQ,SACRmB,GAAI,MAEN,CACEpC,OACE,sEACF+B,QAAS,uEACT3B,GAAI,EACJW,KAAM,2BACNqB,GAAI,OAEN,CACEpC,OACE,sEACF+B,QAAS,iCACT3B,GAAI,EACJW,KAAM,2BACNE,OAAQ,SACRmB,GAAI,MAEN,CACEpC,OACE,sEACF+B,QAAS,6MACT3B,GAAI,EACJW,KAAM,2BACNE,OAAQ,SACRmB,GAAI,MAEN,CACEpC,OACE,sEACF+B,QAAS,0FACT3B,GAAI,EACJW,KAAM,2BACNqB,GAAI,QCqBOC,G,MA3DA,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,WACVC,EAAYC,mBAClB,EAA0BC,qBAAWf,EAAS,CAC5C3B,SAAU2C,IADZ,mBAAOf,EAAP,KAAcgB,EAAd,KAIAC,qBAAU,WACJN,IACFK,EAAS,CACPd,KAAM,cACNG,QAASM,IAGXO,YAAW,WACTF,EAAS,CACPd,KAAM,gBACNG,QAAS,CACP5B,GAAIkC,EAAWlC,GACfa,OAAQ,cAGX,QAEJ,CAACqB,IAEJM,qBAAU,WACRL,EAAUO,QAAQC,UAAYR,EAAUO,QAAQE,eAC/C,CAACrB,EAAM5B,SAASkD,SAEnB,IAAMhD,EAAW,SAACG,GAChBuC,EAAS,CACPd,KAAM,iBACNG,QAAS5B,KAIP8C,EC9CuB,SAACf,GAC9B,IAAMgB,EAAY,GA+ClB,OA7CAhB,EAAOiB,SAAQ,SAACxC,EAAMyC,GACpB,GAAU,IAANA,GAAWlB,EAAOkB,EAAI,GAAI,CAC5B,IACMC,EADQxC,KAAa,IAANuC,EAAUzC,EAAOuB,EAAOkB,EAAI,IAAItC,MAClCuC,KAAK1C,EAAKG,KAAM,QAEzB,IAANsC,GAAWC,IACbH,EAAUI,KAAK,CACb1B,KAAM,QACNzB,GAAG,cAAD,OAAgBQ,EAAKR,IACvBW,KAAMH,EAAKG,OAKjB,GAAU,IAANsC,GAAWzC,EAAKwB,KAAOD,EAAOkB,EAAI,GAAGjB,GACvCe,EAAUI,KAAK,CACb1B,KAAM,UACNzB,GAAG,gBAAD,OAAkBQ,EAAKR,IACzBJ,OAAQY,EAAKZ,OACbH,UAAuB,OAAZe,EAAKwB,GAChBtC,YAAyB,OAAZc,EAAKwB,GAClBrC,SAAU,CACR,CACEc,KAAMD,EAAKmB,QACXd,OAAQL,EAAKK,OACbb,GAAIQ,EAAKR,GACTW,KAAMH,EAAKG,aAIZ,CACL,IAAMyC,EAAWL,EAAUF,OAAS,EAEpCE,EAAUK,GAAV,2BACKL,EAAUK,IADf,IAEEzD,SAAUoD,EAAUK,GAAUzD,SAASkC,OAAO,CAC5CpB,KAAMD,EAAKmB,QACXd,OAAQL,EAAKK,OACbb,GAAIQ,EAAKR,GACTW,KAAMH,EAAKG,aAMZoC,EDFkBM,CAAgB9B,EAAM5B,UAE/C,OACE,qBAAKb,UAAU,SAAf,SACE,qBAAKA,UAAU,WAAW,cAAY,SAASwE,IAAKnB,EAApD,SACGW,EAAiBvC,KAAI,SAACC,GAAD,MACN,YAAdA,EAAKiB,KACH,wBAAC,EAAD,2BAAUjB,GAAV,IAAgB+C,IAAK/C,EAAKR,GAAIH,SAAUA,KAExC,cAAC,EAAD,CAAqBc,KAAMH,EAAKG,MAApBH,EAAKR,aEjBdwD,G,MApCA,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,aAChB,EAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAkBA,OACE,uBAAM9E,UAAU,SAAS+E,SAhBV,SAAC9D,GAChBA,EAAM+D,iBAENL,EAAa,CACXzD,GAAI+D,KAAKC,MACTpE,OACE,sEACF+B,QAASgC,EACThD,MAAM,IAAIoD,MAAOE,cACjBjC,GAAI,KACJnB,OAAQ,WAEV+C,EAAS,KAIT,UACE,uBACEM,YAAY,oGACZP,MAAOA,EACPQ,SArBW,SAACpE,GAAD,OAAW6D,EAAS7D,EAAMqE,OAAOT,QAsB5CU,UAAQ,IAEV,iGCnBSC,G,MATE,kBACf,sBAAKxF,UAAU,YAAf,UACE,qBAAKA,UAAU,OAAf,wBACA,sBAAKA,UAAU,SAAf,UACE,sBAAMA,UAAU,WADlB,0CCJSyF,EAAaC,0BC2BXC,G,MAxBD,WACZ,MAA+BC,qBAAWH,GAAlCI,EAAR,EAAQA,MAAOC,EAAf,EAAeA,YAOf,OACE,qBACE9F,UAAU,QACV,cAAY,QACZ,aAAsB,UAAV6F,EAAoB,OAAS,QACzC7D,QAVkB,SAACf,GACrB,IAAQ4E,EAAU5E,EAAME,cAAcC,QAA9ByE,MACRC,EAAYD,IAIZ,SAMa,UAAVA,EACC,cAAC,IAAD,CAAW/F,KAAM,GAAIE,UAAU,SAE/B,cAAC,IAAD,CAAYA,UAAU,SAASF,KAAM,SCR9BiG,G,MATA,WACb,OACE,sBAAK/F,UAAU,SAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,SCuBSgG,EAxBH,WACV,MAA8BpB,mBAAS,MAAvC,mBAAO/B,EAAP,KAAgBoD,EAAhB,KACA,EAA6BrB,mBCVtBsB,aAAaC,QAAQ,sBAAwB,QDUpD,mBAAON,EAAP,KAAcC,EAAd,KAMA,OAJApC,qBAAU,YCTY,SAACmC,GACvBK,aAAaE,QAAQ,oBAAqBP,GAE5B,SAAVA,GACFQ,SAASC,KAAKC,UAAUC,IAAI,QAC5BH,SAASC,KAAKC,UAAUE,OAAO,WAE/BJ,SAASC,KAAKC,UAAUC,IAAI,SAC5BH,SAASC,KAAKC,UAAUE,OAAO,SDE/BC,CAASb,KACR,CAACA,IAGF,cAACJ,EAAWkB,SAAZ,CACE9B,MAAO,CACLgB,QACAC,eAHJ,SAME,sBAAK9F,UAAU,YAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,CAAQoD,WAAYP,IACpB,cAAC,EAAD,CAAQ8B,aAAcsB,U,YEjB9BW,IAAcC,KAAK,CACjBC,OAAQ,CACNC,SAAU,CAAC,4BAIfnF,IAAMoF,OAAO,MAEbC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFd,SAASe,eAAe,W","file":"static/js/main.d5efac53.chunk.js","sourcesContent":["export const MessageReaded = [\r\n  `<path \r\n\t\td=\"M773.495 279.073l-61.528-61.528-276.876 276.876 61.528 61.528 276.876-276.876zM958.077 217.545l-461.46 465.855-184.584-184.584-61.528 61.528 246.112 246.112 527.383-527.383-65.923-61.528zM0 560.344l246.112 246.112 61.528-61.528-246.112-246.112-61.528 61.528z\"\r\n\t/>`,\r\n  \"0 0 1024 1024\",\r\n];\r\n\r\nexport const MessageSended = [\r\n  `<path \r\n\t\td=\"M958.077 217.545l-461.46 465.855-184.584-184.584-61.528 61.528 246.112 246.112 527.383-527.383-65.923-61.528zM0 560.344v0z\"\r\n\t/>`,\r\n  \"0 0 1024 1024\",\r\n];\r\n","import React from \"react\";\r\nimport classNames from \"classnames\";\r\nimport PropTypes from \"prop-types\";\r\nimport * as icons from \"../../icons\";\r\n\r\nconst Icon = ({ size = 20, name, className = \"\" }) => {\r\n  const [width, height] = size instanceof Array ? size : [size, size];\r\n  const [icon, viewBox] = icons[name];\r\n\r\n  return (\r\n    <svg\r\n      className={classNames(\"icon\", className)}\r\n      width={width}\r\n      height={height}\r\n      dangerouslySetInnerHTML={{ __html: icon }}\r\n      viewBox={viewBox}\r\n    />\r\n  );\r\n};\r\n\r\nIcon.propTypes = {\r\n  size: PropTypes.number,\r\n  name: PropTypes.string.isRequired,\r\n  className: PropTypes.string,\r\n};\r\n\r\nexport default Icon;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport classNames from \"classnames\";\r\nimport dayjs from \"dayjs\";\r\nimport { IoIosTrash } from \"react-icons/io\";\r\nimport Icon from \"../../Icon\";\r\n\r\nimport \"./styles.css\";\r\n\r\nconst Item = ({ isReverse, isRemovable, messages, avatar, onRemove }) => {\r\n  const onRemoveHandle = (event) => {\r\n    const { id } = event.currentTarget.dataset;\r\n    onRemove(+id);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      data-testid=\"message-item\"\r\n      className={classNames(\"item\", {\r\n        reverse: isReverse,\r\n        removable: isRemovable,\r\n      })}\r\n    >\r\n      <img src={avatar} className=\"avatar\" alt=\"Avatar\" />\r\n      <div className=\"list\">\r\n        {messages.map((item) => (\r\n          <div className=\"list-item\" data-testid=\"message-list-item\" key={item.id}>\r\n            <div className=\"text\">{item.text}</div>\r\n            <div className=\"time\">{dayjs(item.date).format(\"HH:mm\")}</div>\r\n            <Icon\r\n              size={15}\r\n              className=\"message-status\"\r\n              name={\r\n                item.status === \"sended\" ? \"MessageSended\" : \"MessageReaded\"\r\n              }\r\n            />\r\n            <IoIosTrash\r\n              data-id={item.id}\r\n              size={18}\r\n              className=\"remove-message\"\r\n              data-testid=\"remove-message\"\r\n              onClick={onRemoveHandle}\r\n            />\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nItem.propTypes = {\r\n  isReverse: PropTypes.bool.isRequired,\r\n  isRemovable: PropTypes.bool.isRequired,\r\n  avatar: PropTypes.string.isRequired,\r\n  messages: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      text: PropTypes.string.isRequired,\r\n      date: PropTypes.string.isRequired,\r\n      status: PropTypes.oneOf([\"sended\", \"readed\"]),\r\n    })\r\n  ).isRequired,\r\n  onRemove: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Item;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport dayjs from \"dayjs\";\r\nimport Calendar from \"dayjs/plugin/calendar\";\r\nimport \"./styles.css\";\r\n\r\ndayjs.extend(Calendar);\r\n\r\nconst Title = ({ date }) => (\r\n  <div className=\"title\">\r\n    {dayjs(date).calendar(null, {\r\n      sameDay: \"[Сегодня]\",\r\n      lastWeek: \"DD MMMM\",\r\n      sameElse: \"DD MMMM YYYY\",\r\n    })}\r\n  </div>\r\n);\r\n\r\nTitle.propTypes = {\r\n  date: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Title;\r\n","export default function reducer(state, action) {\r\n  switch (action.type) {\r\n    case \"remove-message\":\r\n      return {\r\n        ...state,\r\n        messages: state.messages.filter(\r\n          (message) => message.id !== action.payload\r\n        ),\r\n      };\r\n\r\n    case \"add-message\":\r\n      return {\r\n        ...state,\r\n        messages: state.messages.concat(action.payload),\r\n      };\r\n\r\n    case \"update-status\":\r\n      return {\r\n        ...state,\r\n        messages: state.messages.map((message) => {\r\n          if (message.id === action.payload.id) {\r\n            return {\r\n              ...message,\r\n              status: action.payload.status,\r\n            };\r\n          }\r\n\r\n          return message;\r\n        }),\r\n      };\r\n\r\n    default:\r\n      throw new Error(\"Unknown action type\");\r\n  }\r\n}\r\n","const dialog = [\r\n  {\r\n    avatar:\r\n      \"https://sun9-2.userapi.com/c638729/v638729951/1d0ea/f9V7aJyh6tw.jpg\",\r\n    message: \"Привет\",\r\n    id: 0,\r\n    date: \"2020-10-11T10:09:04.712Z\",\r\n    is: \"her\",\r\n  },\r\n  {\r\n    avatar:\r\n      \"https://sun9-58.userapi.com/c836638/v836638514/867c/SPMigNB8gw0.jpg\",\r\n    message: \"Привет! Как дела?\",\r\n    id: 1,\r\n    date: \"2020-10-11T11:09:04.712Z\",\r\n    status: \"readed\",\r\n    is: \"my\",\r\n  },\r\n  {\r\n    avatar:\r\n      \"https://sun9-2.userapi.com/c638729/v638729951/1d0ea/f9V7aJyh6tw.jpg\",\r\n    message: \"Отлично, учу React\",\r\n    id: 2,\r\n    date: \"2020-10-11T12:09:04.712Z\",\r\n    is: \"her\",\r\n  },\r\n  {\r\n    avatar:\r\n      \"https://sun9-58.userapi.com/c836638/v836638514/867c/SPMigNB8gw0.jpg\",\r\n    message: \"Круто\",\r\n    id: 3,\r\n    date: \"2020-10-11T13:01:04.712Z\",\r\n    status: \"readed\",\r\n    is: \"my\",\r\n  },\r\n  {\r\n    avatar:\r\n      \"https://sun9-58.userapi.com/c836638/v836638514/867c/SPMigNB8gw0.jpg\",\r\n    message: \"Я тоже учу. Вот приложение диалог делаю...\",\r\n    id: 4,\r\n    date: \"2020-10-11T14:09:07.712Z\",\r\n    status: \"readed\",\r\n    is: \"my\",\r\n  },\r\n  {\r\n    avatar:\r\n      \"https://sun9-2.userapi.com/c638729/v638729951/1d0ea/f9V7aJyh6tw.jpg\",\r\n    message: \"Скидывай ссылку:)\",\r\n    id: 5,\r\n    date: \"2020-10-11T15:09:04.712Z\",\r\n    is: \"her\",\r\n  },\r\n];\r\n\r\nexport default dialog;\r\n","import React, { useReducer, useEffect, useRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport Item from \"./Item\";\r\nimport Title from \"./Title\";\r\n\r\nimport { normalizeDialog } from \"./helpers\";\r\nimport reducer from \"./reducer\";\r\nimport data from \"../../data\";\r\n\r\nimport \"./styles.css\";\r\n\r\nconst Dialog = ({ newMessage }) => {\r\n  const dialogRef = useRef();\r\n  const [state, dispatch] = useReducer(reducer, {\r\n    messages: data,\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (newMessage) {\r\n      dispatch({\r\n        type: \"add-message\",\r\n        payload: newMessage,\r\n      });\r\n\r\n      setTimeout(() => {\r\n        dispatch({\r\n          type: \"update-status\",\r\n          payload: {\r\n            id: newMessage.id,\r\n            status: \"readed\",\r\n          },\r\n        });\r\n      }, 1000);\r\n    }\r\n  }, [newMessage]);\r\n\r\n  useEffect(() => {\r\n    dialogRef.current.scrollTop = dialogRef.current.scrollHeight;\r\n  }, [state.messages.length]);\r\n\r\n  const onRemove = (id) => {\r\n    dispatch({\r\n      type: \"remove-message\",\r\n      payload: id,\r\n    });\r\n  };\r\n\r\n  const normalizedDialog = normalizeDialog(state.messages);\r\n\r\n  return (\r\n    <div className=\"dialog\">\r\n      <div className=\"overflow\" data-testid=\"dialog\" ref={dialogRef}>\r\n        {normalizedDialog.map((item) =>\r\n          item.type === \"message\" ? (\r\n            <Item {...item} key={item.id} onRemove={onRemove} />\r\n          ) : (\r\n            <Title key={item.id} date={item.date} />\r\n          )\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nDialog.propTypes = {\r\n  newMessage: PropTypes.shape({\r\n    id: PropTypes.number,\r\n  }),\r\n};\r\n\r\nexport default Dialog;\r\n","import dayjs from \"dayjs\";\r\n\r\nexport const normalizeDialog = (dialog) => {\r\n  const newDialog = [];\r\n\r\n  dialog.forEach((item, i) => {\r\n    if (i === 0 || dialog[i - 1]) {\r\n      const first = dayjs((i === 0 ? item : dialog[i - 1]).date);\r\n      const diff = first.diff(item.date, \"day\");\r\n\r\n      if (i === 0 || diff) {\r\n        newDialog.push({\r\n          type: \"title\",\r\n          id: `item-title-${item.id}`,\r\n          date: item.date,\r\n        });\r\n      }\r\n    }\r\n\r\n    if (i === 0 || item.is !== dialog[i - 1].is) {\r\n      newDialog.push({\r\n        type: \"message\",\r\n        id: `item-message-${item.id}`,\r\n        avatar: item.avatar,\r\n        isReverse: item.is === \"my\",\r\n        isRemovable: item.is === \"my\",\r\n        messages: [\r\n          {\r\n            text: item.message,\r\n            status: item.status,\r\n            id: item.id,\r\n            date: item.date,\r\n          },\r\n        ],\r\n      });\r\n    } else {\r\n      const position = newDialog.length - 1;\r\n\r\n      newDialog[position] = {\r\n        ...newDialog[position],\r\n        messages: newDialog[position].messages.concat({\r\n          text: item.message,\r\n          status: item.status,\r\n          id: item.id,\r\n          date: item.date,\r\n        }),\r\n      };\r\n    }\r\n  });\r\n\r\n  return newDialog;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./styles.css\";\r\n\r\nconst Sender = ({ onAddMessage }) => {\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  const onChange = (event) => setValue(event.target.value);\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    onAddMessage({\r\n      id: Date.now(),\r\n      avatar:\r\n        \"https://sun9-58.userapi.com/c836638/v836638514/867c/SPMigNB8gw0.jpg\",\r\n      message: value,\r\n      date: new Date().toISOString(),\r\n      is: \"my\",\r\n      status: \"sended\",\r\n    });\r\n    setValue(\"\");\r\n  };\r\n\r\n  return (\r\n    <form className=\"sender\" onSubmit={onSubmit}>\r\n      <input\r\n        placeholder=\"Введите сообщение\"\r\n        value={value}\r\n        onChange={onChange}\r\n        required\r\n      />\r\n      <button>Отправить</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nSender.propTypes = {\r\n  onAddMessage: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Sender;\r\n","import React from \"react\";\r\nimport \"./styles.css\";\r\n\r\nconst UserInfo = () => (\r\n  <div className=\"user-info\">\r\n    <div className=\"name\">Ilezus Dev</div>\r\n    <div className=\"status\">\r\n      <span className=\"circle\" />В сети\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default UserInfo;\r\n","import { createContext } from \"react\";\r\n\r\nexport const AppContext = createContext();\r\n","import React, { useContext } from \"react\";\r\nimport { AppContext } from \"../../../context\";\r\nimport { IoIosMoon, IoIosSunny } from \"react-icons/io\";\r\nimport \"./styles.css\";\r\n\r\nconst Theme = () => {\r\n  const { theme, toggleTheme } = useContext(AppContext);\r\n\r\n  const onToggleTheme = (event) => {\r\n    const { theme } = event.currentTarget.dataset;\r\n    toggleTheme(theme);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"theme\"\r\n      data-testid=\"theme\"\r\n      data-theme={theme === \"light\" ? \"dark\" : \"light\"}\r\n      onClick={onToggleTheme}\r\n    >\r\n      {theme === \"light\" ? (\r\n        <IoIosMoon size={20} className=\"dark\" />\r\n      ) : (\r\n        <IoIosSunny className=\"yellow\" size={20} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Theme;\r\n","import React from \"react\";\r\nimport UserInfo from \"./UserInfo\";\r\nimport Theme from \"./Theme\";\r\n\r\nimport \"./styles.css\";\r\n\r\nconst Header = () => {\r\n  return (\r\n    <div className=\"header\">\r\n      <UserInfo />\r\n      <Theme />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport Dialog from \"./components/Dialog\";\r\nimport Sender from \"./components/Sender\";\r\nimport Header from \"./components/Header\";\r\n\r\nimport { AppContext } from \"./context\";\r\nimport { getTheme, setTheme } from \"./helpers/theme\";\r\n\r\nconst App = () => {\r\n  const [message, addMessage] = useState(null);\r\n  const [theme, toggleTheme] = useState(getTheme());\r\n\r\n  useEffect(() => {\r\n    setTheme(theme);\r\n  }, [theme]);\r\n\r\n  return (\r\n    <AppContext.Provider\r\n      value={{\r\n        theme,\r\n        toggleTheme,\r\n      }}\r\n    >\r\n      <div className=\"container\">\r\n        <Header />\r\n        <Dialog newMessage={message} />\r\n        <Sender onAddMessage={addMessage} />\r\n      </div>\r\n    </AppContext.Provider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","export const getTheme = () => {\r\n  return localStorage.getItem(\"application-theme\") || \"dark\";\r\n};\r\n\r\nexport const setTheme = (theme) => {\r\n  localStorage.setItem(\"application-theme\", theme);\r\n\r\n  if (theme === \"dark\") {\r\n    document.body.classList.add(\"dark\");\r\n    document.body.classList.remove(\"light\");\r\n  } else {\r\n    document.body.classList.add(\"light\");\r\n    document.body.classList.remove(\"dark\");\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport WebFontLoader from \"webfontloader\";\r\nimport dayjs from \"dayjs\";\r\n\r\nimport App from \"./App\";\r\n\r\nimport \"dayjs/locale/ru\";\r\nimport \"./css/index.css\";\r\n\r\nWebFontLoader.load({\r\n  google: {\r\n    families: [\"Open Sans:300,400,700\"],\r\n  },\r\n});\r\n\r\ndayjs.locale(\"ru\");\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}